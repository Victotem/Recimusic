<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Recimusic</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Ubuntu" rel="stylesheet">

   <!-- Hojas de estilo CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="/static/css/styles.css">

  <!-- Font Awesome -->
  <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>

  <!-- Bootstrap  -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>

<body>
  <!-- Contenedor -->
  <section class="colored-section" id="titulo">
    <div class="container-fluid">

    <!-- Barra de navegacion -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      

      <a class="navbar-brand" href="">Recimusic</a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarExpansiva">
          <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarExpansiva">

        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link nav-link-white" style="color: #ffffff;">Bienvenido {{ nombre }}</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#footer">Contacto</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#precio">Precios</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#acc">Iniciar sesión</a>
          </li>
        </ul>

      </div>
    </nav>



    <!-- Titulo -->

    <div class="row">
      <div class="col-lg-6">
      <h1 class="big-heading"> Instrumentos hechos con material reciclado</h1>
      <button type="button" class="btn btn-dark btn-lg download-button"><a href="{{ url_for('register') }}">Registrarse</a></button>
      <button type="button" class="btn btn-light btn-lg download-button"><a href="{{ url_for('login') }}">Iniciar sesión</a></button>
    </div>
    <div class="col-lg-3">
      <img class="title-image" src="static/images/palarravertical.png">
      
    </div>
  </div>

  </section>

  <!-- Ventajas -->

  <section class="white-section" id="ventajas">
    <div class="container-fluid">
      <div class="row">
        <div class="feature-box col-lg-4">
          <i class="icon fas fa-solid fa-paperclip fa-4x"></i>
          <h3 class="feature-title">Facil de usar</h3>
          <p>Tus conocimientos y habilidades musicales tambien sirven con estos instrumentos</p>
        </div>
        <div class="feature-box col-lg-4">
          <i class="icon fas fa-solid fa-star fa-4x"></i>
          <h3 class="feature-title">Calidad musical</h3>
          <p>Hechos para que puedan encajar en cualquier orquesta</p>
        </div>
        <div class="feature-box col-lg-4">
          <i class="icon fas fa-check-circle  fa-4x"></i>
          <h3 class="feature-title">Garantia</h3>
          <p>Si hay algun deterioro fatal en el plazo de 1 año le devolvemops su dinero</p>
        </div>
  </div>
  </div>
  </section>


  <!-- Testimonios -->

  <section class="colored-section" id="testimonios">
    <div id="testimonial-carousel" class="carousel slide" data-ride="false">
      <div class="carousel-inner">
        <div class="carousel-item active container-fluid">
          <h2 class="testimonial-text">Ya no tengo que pasar por casa antes de ir al conservatorio despues de jugar al tenis</h2>
          
          <em>Manuel, Tenista y musico entusiasta</em>
        </div>
        <div class="carousel-item container-fluid">
          <h2 class="testimonial-text">Me encanta la idea de tocar 2 instrumentos a la vez. Con el tubófono ahora es posible</h2>
          
          <em>Ana, Bateria profesional</em> 
        </div>
      </div>
      <a class="carousel-control-prev" href="#testimonial-carousel" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
      </a>
      <a class="carousel-control-next" href="#testimonial-carousel" role="button" data-slide="next">
    <span class="carousel-control-next-icon"></span>
      </a>
    </div>
  </section>


  <!-- Imagenes -->

  <section id="imagenes">
    <img src="static/images/raquetarra.png">
    <img src="static/images/palarra.png">
    <img src="static/images/tubofono.png">
    

  </section>


  <!-- Precio -->

  <section class="white-section" id="precio">

    <h2 class="section-heading">Un instrumento para cada clase de músico</h2>
   

    <div class="row">

      <div class="pricing-column col-lg-4 col-md-6">
        <div class="card">
          <div class="card-header">
            <h3>Raquetarra</h3>
          </div>
          <div class="card-body">
            <h2 class="price-text">60€</h2>
            <p>Ligera</p>
            <p>Versátil</p>
            <button class="btn btn-lg btn-block btn-outline-dark" type="button">Comprar</button>
          </div>
        </div>
      </div>

      <div class="pricing-column col-lg-4 col-md-6">
        <div class="card">
          <div class="card-header">
            <h3>Palarra</h3>
          </div>
          <div class="card-body">
            <h2 class="price-text">90€</h2>
            <p>Robusta y resistente</p>
            <p>Requiere de mesa de mezclas</p>
            <button class="btn btn-lg btn-block btn-outline-dark" type="button">Comprar</button>
          </div>
        </div>
      </div>

      <div class="pricing-column col-lg-4">
        <div class="card">
          <div class="card-header">
            <h3>Tubófono</h3>
          </div>
          <div class="card-body">
            <h2 class="price-text">199€</h2>
            <p>11 tonos musicales</p>
            <p>Adaptable a todas las escalas</p>
            <p>Duradero</p>
            <button class="btn btn-lg btn-block btn-outline-dark" type="button">Comprar</button>

          </div>
        </div>
      </div>



    </div>
  
    <!--Subscripcion-->
<div class="container">
  <h1>Buscador de instrumentos</h1>
  <form id="formulario-busqueda">
    <label for="busqueda">Instrumento:</label>
    <input id="busqueda">
    <button id="boton-busqueda">Buscar</button>
  </form>
  <p id="success-message" class="success-message">
    ¡Gracias por suscribirte! Te mantendremos informado sobre los cambios interesantes en nuestra tienda de instrumentos hechos con material reciclado.
  </p>
</div>
<script>
  const lista_de_datos = {{ lista_de_data|tojson }};
  const subscribeForm = document.getElementById("formulario-busqueda");
  const successMessage = document.getElementById("success-message");

  subscribeForm.addEventListener("submit", function(event) {
    event.preventDefault(); //Previene que se cumpla el evento "submit" que llevaria a la pagina login. Todo el script es una modificación de un formulario para subscribirse a un newsletter.
    const inputBusqueda = document.getElementById("busqueda");
    const inputValor = inputBusqueda.value;
    const definiciones = ["Color/es: ", "Stock: ", "Disponibilidad: "];
    
    let mensaje = ""; //Mensaje final que se va completando con caracteristicas del instrumento en caso de que haya coincidencia
    let encontrado = false; //Booleano que indicará si se encontró el valor o no
    for (let i = 0; i < lista_de_datos.length; i++) {
      const lista_interna = lista_de_datos[i];//Se crea la variable que representa una lista de la lista de listas
      for (let j = 0; j < lista_interna.length; j++) { //Bucle que checkea dentro de la lista de la lista de listas
        const valor = lista_interna[j];//Se coge un valor de la lista
        if (valor === inputValor) {//Se compara
          encontrado = true;
          ctrl_definiciones = 0; //Nada más encuentra un valor queremos que los strings que definen las variables impresas se reseteen
          for (let k = 0; k < lista_de_datos.length; k++) {
            if (k !== i) { //Solo se imprime las otras listas, no la lista que contiene el valor encontrado
              const lista_interna2 = lista_de_datos[k];  //Selecciona la lista siguiente que no es la de los instrumentos. hasta que se acaben
              if (lista_interna2.length > j) { //Solo imprime si la posicion existe en la lista
                const valor2 = lista_interna2[j];
                mensaje += definiciones[ctrl_definiciones] + valor2 + "<br>";
                ctrl_definiciones += 1;
              }
            }
          }
          successMessage.innerHTML = mensaje;
          successMessage.style.display = "block";
          inputBusqueda.value = ""; //Se limpia el valor del input para permitir nuevas búsquedas
          return;
        }
      }
    }

    if (!encontrado) { //Si no se encontró el valor, mostramos el mensaje de "no encontrado"
      successMessage.textContent = "El elemento no ha sido encontrado";
      successMessage.style.display = "block";
    }
  });
</script>

  </section>

  <!-- Momento de la accion -->

  <section id="acc">
    <div class="container-fluid"></div>
    
      <h3 class="big-heading">Rebasa los limites de la música</h3>
      <button class="download-button btn btn-lg btn-dark" type="button"><a href="{{ url_for('register') }}"> Registrarse</a></button>
      <button class="download-button btn btn-lg brn-light" type="button"><a href="{{ url_for('login') }}"> Iniciar sesión</a></button>

  </section>


  <!-- Footer -->

  
    <footer class="white-section" id="footer">
      <div class="container-fluid">
        <i class="social-icon fab fa-facebook-f"></i>
        <i class="social-icon fab fa-twitter"></i>
        <i class="social-icon fab fa-instagram"></i>
        <i class="social-icon fas fa-envelope"></i>

    <p>© Copyright 2023 Recimusic</p>
        </div>
  </footer>


</body>

</html>
